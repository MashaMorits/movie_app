(function(){"use strict";var t={7641:function(t,i,n){var e=n(9963),o=n(9876),r=n(6252);const s=(0,r._)("div",{class:"app"},null,-1);function a(t,i,n,e,o,a){const l=(0,r.up)("AppHeader"),c=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(l),s,(0,r.Wm)(c)],64)}var l=n(3577),c=n(2262);n(7658);const f=(0,o.Q_)("favorites",{state:()=>({favoritesList:[]}),actions:{updateFavorites(t){this.favoritesList.find((i=>i.kinopoiskId===t.kinopoiskId))?this.favoritesList=this.favoritesList.filter((i=>i.kinopoiskId!=t.kinopoiskId)):this.favoritesList.push(t)}}}),u={class:"header"},p={class:"container"},m={class:"header__navigation"};var v={__name:"AppHeader",setup(t){const i=f();return(t,n)=>{const e=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("header",u,[(0,r._)("div",p,[(0,r._)("nav",m,[(0,r.Wm)(e,{to:"/"},{default:(0,r.w5)((()=>[(0,r.Uk)("Главная")])),_:1}),(0,r.Wm)(e,{to:"/favorites"},{default:(0,r.w5)((()=>[(0,r.Uk)("Избранное"),(0,r._)("sup",null,(0,l.zw)((0,c.SU)(i).favoritesList.length),1)])),_:1})])])])}}};const d=v;var _=d,h={name:"App",components:{AppHeader:_}},w=n(3744);const g=(0,w.Z)(h,[["render",a]]);var k=g;const F={class:"home__page"},I={class:"container"},b=(0,r._)("h1",null,"Список фильмов, сериалов и мультфильмов",-1);function y(t,i,n,e,o,s){const a=(0,r.up)("FilmRow"),l=(0,r.up)("RouterView");return(0,r.wg)(),(0,r.iD)("div",F,[(0,r._)("div",I,[b,(0,r.Wm)(a,{title:"Топ-250 фильмов"}),(0,r.Wm)(l)])])}const O={class:"film__row"},j={class:"film__row-wrap"};function D(t,i,n,e,o,s){const a=(0,r.up)("FilmItem");return(0,r.wg)(),(0,r.iD)("div",O,[(0,r._)("h2",null,(0,l.zw)(n.title),1),(0,r._)("div",j,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.films,((i,n)=>((0,r.wg)(),(0,r.j4)(a,{key:i.id,film:i,index:n,onClick:n=>t.$router.push(`/films/${i.filmId}`)},null,8,["film","index","onClick"])))),128))]),(0,r._)("button",{onClick:i[0]||(i[0]=i=>t.$router.push("/allfilms"))}," Смотерть ещё ")])}var L=n(6154);const P=L.Z.create({baseURL:"https://kinopoiskapiunofficial.tech/api/",headers:{"X-API-KEY":"1e69d574-cb0e-42ba-ae2b-a8644817561a","Content-Type":"application/json"}});var C=P;const Z={class:"film__item"},$=["src"];function x(t,i,n,e,o,s){return(0,r.wg)(),(0,r.iD)("div",Z,[(0,r._)("img",{src:n.film.posterUrlPreview,alt:""},null,8,$)])}var H={name:"FilmItem",props:{film:Object}};const W=(0,w.Z)(H,[["render",x]]);var R=W,U={name:"FilmRow",data(){return{films:[]}},components:{FilmItem:R},props:{title:String},methods:{async fetchFilms(){try{const t=await C.get("v2.2/films/top?type=TOP_250_BEST_FILMS&page=1");console.log(t.data.films),this.films=t.data.films.slice(0,6)}catch{alert("ошибка")}}},mounted(){this.fetchFilms()}};const z=(0,w.Z)(U,[["render",D]]);var A=z,T={name:"HomePage",components:{FilmRow:A}};const S=(0,w.Z)(T,[["render",y]]);var Y=S;const E={class:"allFilms"},K=(0,r._)("div",{class:"allFilms__filters"},null,-1),B=(0,r._)("div",{class:"allFilms__list"},null,-1),M=[K,B];function Q(t,i,n,e,o,s){return(0,r.wg)(),(0,r.iD)("div",E,M)}var V={name:"FilmsPage"};const X=(0,w.Z)(V,[["render",Q]]);var q=X;const G={class:"container"},J={class:"film__page"},N=["src"],tt={class:"film__page-info"},it={class:"film__page-description"};function nt(t,i,n,e,o,s){return(0,r.wg)(),(0,r.iD)("div",G,[(0,r._)("div",J,[(0,r._)("img",{src:o.filmInfo.posterUrlPreview,alt:""},null,8,N),(0,r._)("div",tt,[(0,r._)("h1",null,(0,l.zw)(o.filmInfo.nameRu),1),(0,r._)("div",it,[(0,r._)("span",null,(0,l.zw)(o.filmInfo.description),1)]),(0,r._)("button",{onClick:i[0]||(i[0]=t=>e.favorites.updateFavorites(o.filmInfo))},(0,l.zw)(s.isFav()?"Удалить из избранного":"Добавить в избранное"),1)])])])}var et={name:"FilmPage",data(){return{filmInfo:[]}},setup(){const t=f();return{favorites:t}},methods:{async fetchFilmInfo(){try{const t=await C.get(`v2.2/films/${this.$route.params.id}`);this.filmInfo=t.data}catch{alert("ошибка")}},isFav(){if(this.favorites.favoritesList.find((t=>t.kinopoiskId==this.$route.params.id)))return!0}},mounted(){this.fetchFilmInfo()}};const ot=(0,w.Z)(et,[["render",nt]]);var rt=ot;const st={class:"favorites__page"},at={class:"container"},lt=(0,r._)("h1",null,"Избранные фильмы и сериалы",-1),ct={class:"favorites__page-wrap"};function ft(t,i,n,e,o,s){const a=(0,r.up)("FilmItem");return(0,r.wg)(),(0,r.iD)("div",st,[(0,r._)("div",at,[lt,(0,r._)("div",ct,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.favorites.favoritesList,(i=>((0,r.wg)(),(0,r.j4)(a,{key:i.imdbId,film:i,onClick:n=>t.$router.push(`/films/${i.kinopoiskId}`)},null,8,["film","onClick"])))),128))])])])}var ut={setup(){const t=f();return{favorites:t}},components:{FilmItem:R}};const pt=(0,w.Z)(ut,[["render",ft]]);var mt=pt,vt=n(2201);const dt=[{path:"/",component:Y},{path:"/allfilms",component:q},{path:"/films/:id",component:rt},{path:"/favorites",component:mt}],_t=(0,vt.p7)({routes:dt,history:(0,vt.PO)("/movie_app/")});var ht=_t;const wt=(0,o.WB)(),gt=(0,e.ri)(k);gt.use(ht).use(wt).mount("#app")}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var r=i[e]={exports:{}};return t[e].call(r.exports,r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(i,e,o,r){if(!e){var s=1/0;for(f=0;f<t.length;f++){e=t[f][0],o=t[f][1],r=t[f][2];for(var a=!0,l=0;l<e.length;l++)(!1&r||s>=r)&&Object.keys(n.O).every((function(t){return n.O[t](e[l])}))?e.splice(l--,1):(a=!1,r<s&&(s=r));if(a){t.splice(f--,1);var c=o();void 0!==c&&(i=c)}}return i}r=r||0;for(var f=t.length;f>0&&t[f-1][2]>r;f--)t[f]=t[f-1];t[f]=[e,o,r]}}(),function(){n.d=function(t,i){for(var e in i)n.o(i,e)&&!n.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:i[e]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)}}(),function(){var t={143:0};n.O.j=function(i){return 0===t[i]};var i=function(i,e){var o,r,s=e[0],a=e[1],l=e[2],c=0;if(s.some((function(i){return 0!==t[i]}))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(l)var f=l(n)}for(i&&i(e);c<s.length;c++)r=s[c],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(f)},e=self["webpackChunkmovie_project"]=self["webpackChunkmovie_project"]||[];e.forEach(i.bind(null,0)),e.push=i.bind(null,e.push.bind(e))}();var e=n.O(void 0,[998],(function(){return n(7641)}));e=n.O(e)})();
//# sourceMappingURL=app.a9bb37c4.js.map