(function(){"use strict";var t={7641:function(t,n,i){var e=i(9242),o=i(1020),r=i(3396);const s=(0,r._)("div",{class:"app"},null,-1);function a(t,n,i,e,o,a){const l=(0,r.up)("AppHeader"),c=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(l),s,(0,r.Wm)(c)],64)}var l=i(7139),c=i(4870);i(7658);const u=(0,o.Q_)("favorites",{state:()=>({favoritesList:[]}),actions:{updateFavorites(t){this.favoritesList.find((n=>n.kinopoiskId===t.kinopoiskId))?this.favoritesList=this.favoritesList.filter((n=>n.kinopoiskId!=t.kinopoiskId)):this.favoritesList.push(t)}}}),f={class:"header"},p={class:"container"},m={class:"header__navigation"};var v={__name:"AppHeader",setup(t){const n=u();return(t,i)=>{const e=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("header",f,[(0,r._)("div",p,[(0,r._)("nav",m,[(0,r.Wm)(e,{to:"/"},{default:(0,r.w5)((()=>[(0,r.Uk)("Главная")])),_:1}),(0,r.Wm)(e,{to:"/favorites"},{default:(0,r.w5)((()=>[(0,r.Uk)("Избранное"),(0,r._)("sup",null,(0,l.zw)((0,c.SU)(n).favoritesList.length),1)])),_:1})])])])}}};const d=v;var _=d,h={name:"App",components:{AppHeader:_}},w=i(89);const g=(0,w.Z)(h,[["render",a]]);var k=g;const F={class:"home__page"},I={class:"container"},b=(0,r._)("h1",null,"Список фильмов, сериалов и мультфильмов",-1);function y(t,n,i,e,o,s){const a=(0,r.up)("FilmRow"),l=(0,r.up)("RouterView");return(0,r.wg)(),(0,r.iD)("div",F,[(0,r._)("div",I,[b,(0,r.Wm)(a,{title:"Топ-250 фильмов"}),(0,r.Wm)(l)])])}const O={class:"film__row"},j={class:"film__row-wrap"};function D(t,n,i,e,o,s){const a=(0,r.up)("FilmItem");return(0,r.wg)(),(0,r.iD)("div",O,[(0,r._)("h2",null,(0,l.zw)(i.title),1),(0,r._)("div",j,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.films,((n,i)=>((0,r.wg)(),(0,r.j4)(a,{key:n.id,film:n,index:i,onClick:i=>t.$router.push(`/films/${n.filmId}`)},null,8,["film","index","onClick"])))),128))]),(0,r._)("button",{onClick:n[0]||(n[0]=n=>t.$router.push("/allfilms"))}," Смотерть ещё ")])}var L=i(4161);const P=L.Z.create({baseURL:"https://kinopoiskapiunofficial.tech/api/",headers:{"X-API-KEY":"1e69d574-cb0e-42ba-ae2b-a8644817561a","Content-Type":"application/json"}});var C=P;const Z={class:"film__item"},$=["src"];function x(t,n,i,e,o,s){return(0,r.wg)(),(0,r.iD)("div",Z,[(0,r._)("img",{src:i.film.posterUrlPreview,alt:""},null,8,$)])}var H={name:"FilmItem",props:{film:Object}};const W=(0,w.Z)(H,[["render",x]]);var R=W,U={name:"FilmRow",data(){return{films:[]}},components:{FilmItem:R},props:{title:String},methods:{async fetchFilms(){try{const t=await C.get("v2.2/films/top?type=TOP_250_BEST_FILMS&page=1");console.log(t.data.films),this.films=t.data.films.slice(0,6)}catch{alert("ошибка")}}},mounted(){this.fetchFilms()}};const z=(0,w.Z)(U,[["render",D]]);var A=z,T={name:"HomePage",components:{FilmRow:A}};const S=(0,w.Z)(T,[["render",y]]);var Y=S;const E={class:"allFilms"},K=(0,r._)("div",{class:"allFilms__filters"},null,-1),B=(0,r._)("div",{class:"allFilms__list"},null,-1),M=[K,B];function Q(t,n,i,e,o,s){return(0,r.wg)(),(0,r.iD)("div",E,M)}var V={name:"FilmsPage"};const X=(0,w.Z)(V,[["render",Q]]);var q=X;const G={class:"container"},J={class:"film__page"},N=["src"],tt={class:"film__page-info"},nt={class:"film__page-description"};function it(t,n,i,e,o,s){return(0,r.wg)(),(0,r.iD)("div",G,[(0,r._)("div",J,[(0,r._)("img",{src:o.filmInfo.posterUrlPreview,alt:""},null,8,N),(0,r._)("div",tt,[(0,r._)("h1",null,(0,l.zw)(o.filmInfo.nameRu),1),(0,r._)("div",nt,[(0,r._)("span",null,(0,l.zw)(o.filmInfo.description),1)]),(0,r._)("button",{onClick:n[0]||(n[0]=t=>e.favorites.updateFavorites(o.filmInfo))},(0,l.zw)(s.isFav()?"Удалить из избранного":"Добавить в избранное"),1)])])])}var et={name:"FilmPage",data(){return{filmInfo:[]}},setup(){const t=u();return{favorites:t}},methods:{async fetchFilmInfo(){try{const t=await C.get(`v2.2/films/${this.$route.params.id}`);this.filmInfo=t.data}catch{alert("ошибка")}},isFav(){if(this.favorites.favoritesList.find((t=>t.kinopoiskId==this.$route.params.id)))return!0}},mounted(){this.fetchFilmInfo()}};const ot=(0,w.Z)(et,[["render",it]]);var rt=ot;const st={class:"favorites__page"},at={class:"container"},lt=(0,r._)("h1",null,"Избранные фильмы и сериалы",-1),ct={class:"favorites__page-wrap"};function ut(t,n,i,e,o,s){const a=(0,r.up)("FilmItem");return(0,r.wg)(),(0,r.iD)("div",st,[(0,r._)("div",at,[lt,(0,r._)("div",ct,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.favorites.favoritesList,(n=>((0,r.wg)(),(0,r.j4)(a,{key:n.imdbId,film:n,onClick:i=>t.$router.push(`/films/${n.kinopoiskId}`)},null,8,["film","onClick"])))),128))])])])}var ft={setup(){const t=u();return{favorites:t}},components:{FilmItem:R}};const pt=(0,w.Z)(ft,[["render",ut]]);var mt=pt,vt=i(2483);const dt=[{path:"/",component:Y},{path:"/allfilms",component:q},{path:"/films/:id",component:rt},{path:"/favorites",component:mt}],_t=(0,vt.p7)({routes:dt,history:(0,vt.PO)("/")});var ht=_t;const wt=(0,o.WB)(),gt=(0,e.ri)(k);gt.use(ht).use(wt).mount("#app")}},n={};function i(e){var o=n[e];if(void 0!==o)return o.exports;var r=n[e]={exports:{}};return t[e].call(r.exports,r,r.exports,i),r.exports}i.m=t,function(){var t=[];i.O=function(n,e,o,r){if(!e){var s=1/0;for(u=0;u<t.length;u++){e=t[u][0],o=t[u][1],r=t[u][2];for(var a=!0,l=0;l<e.length;l++)(!1&r||s>=r)&&Object.keys(i.O).every((function(t){return i.O[t](e[l])}))?e.splice(l--,1):(a=!1,r<s&&(s=r));if(a){t.splice(u--,1);var c=o();void 0!==c&&(n=c)}}return n}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[e,o,r]}}(),function(){i.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(n,{a:n}),n}}(),function(){i.d=function(t,n){for(var e in n)i.o(n,e)&&!i.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={143:0};i.O.j=function(n){return 0===t[n]};var n=function(n,e){var o,r,s=e[0],a=e[1],l=e[2],c=0;if(s.some((function(n){return 0!==t[n]}))){for(o in a)i.o(a,o)&&(i.m[o]=a[o]);if(l)var u=l(i)}for(n&&n(e);c<s.length;c++)r=s[c],i.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return i.O(u)},e=self["webpackChunkmovie_project"]=self["webpackChunkmovie_project"]||[];e.forEach(n.bind(null,0)),e.push=n.bind(null,e.push.bind(e))}();var e=i.O(void 0,[998],(function(){return i(7641)}));e=i.O(e)})();
//# sourceMappingURL=app.e7f6b589.js.map